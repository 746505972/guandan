import matplotlib.pyplot as plt
plt.rcParams["font.sans-serif"] = ["SimHei"]  # 设置字体
plt.rcParams["axes.unicode_minus"] = False  # 该语句解决图像中的"-"负号的乱码问题

# 数据
test_results = {'episodes': [400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 2200, 2400, 2600, 2800, 3000],
                'win_rates': [52.5, 46.0, 60.5, 65.0, 55.00000000000001, 64.0, 63.0, 66.0, 64.0, 68.5, 58.5, 71.5, 68.0, 62.0],
                'yi_rates': [39.04761904761905, 42.391304347826086, 36.36363636363637, 39.23076923076923, 32.72727272727273, 32.8125, 35.714285714285715, 31.818181818181817, 32.8125, 36.496350364963504, 37.60683760683761, 37.06293706293706, 38.970588235294116, 33.064516129032256],
                'er_rates': [39.04761904761905, 34.78260869565217, 39.66942148760331, 43.84615384615385, 45.45454545454545, 45.3125, 45.23809523809524, 44.696969696969695, 46.09375, 47.44525547445255, 37.60683760683761, 42.65734265734265, 41.911764705882355, 42.74193548387097],
                'san_rates': [21.904761904761905, 22.82608695652174, 23.96694214876033, 16.923076923076923, 21.818181818181817, 21.875, 19.047619047619047, 23.484848484848484, 21.09375, 16.05839416058394, 24.786324786324787, 20.27972027972028, 19.11764705882353, 24.193548387096776]}

team = {'episodes': [400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 2200, 2400, 2600, 2800, 3000],
        'win_rates': [52.5, 55.50000000000001, 61.5, 61.0, 65.5, 66.0, 73.5, 74.5, 76.5, 81.5, 70.5, 80.0, 84.0, 79.0],
        'yi_rates': [37.142857142857146, 27.927927927927925, 31.70731707317073, 47.540983606557376, 48.091603053435115, 52.27272727272727, 55.78231292517006, 46.97986577181208, 49.673202614379086, 57.668711656441715, 52.4822695035461, 61.875, 64.88095238095238, 55.06329113924051],
        'er_rates': [40.0, 59.45945945945946, 47.96747967479675, 37.704918032786885, 35.87786259541985, 30.303030303030305, 27.2108843537415, 38.25503355704698, 35.947712418300654, 26.993865030674847, 31.20567375886525, 26.25, 24.404761904761905, 25.949367088607595],
        'san_rates': [22.857142857142858, 12.612612612612612, 20.32520325203252, 14.754098360655737, 16.030534351145036, 17.424242424242426, 17.006802721088434, 14.76510067114094, 14.37908496732026, 15.337423312883436, 16.312056737588655, 11.875, 10.714285714285714, 18.9873417721519]}

# 第一张图：单人vs团队胜率折线图
plt.figure(figsize=(12, 6))
plt.plot(test_results['episodes'], test_results['win_rates'], 'b-o', label='单人胜率')
plt.plot(team['episodes'], team['win_rates'], 'r--s', label='团队胜率')
plt.xlabel('训练Episode')
plt.ylabel('百分比(%)')
plt.title('单人vs团队在不同训练阶段的胜率对比')
plt.legend()
plt.grid(True)
plt.xticks(test_results['episodes'])
plt.show()

# 第二张图：12、13、14名(第1、2、3名)面积图
# 2栏绘制，单人和团队的第1、2、3名率对比
fig, axs = plt.subplots(1, 2, figsize=(18, 6), sharey=True)

# 单人
axs[0].stackplot(test_results['episodes'],
                                test_results['yi_rates'],
                                test_results['er_rates'],
                                test_results['san_rates'],
                                labels=['第1名率', '第2名率', '第3名率'],
                                colors=['#1f77b4', '#ff7f0e', '#2ca02c'])
axs[0].set_xlabel('训练Episode')
axs[0].set_ylabel('百分比(%)')
axs[0].set_title('单人第1、2、3名率')
axs[0].legend(loc='upper left')
axs[0].grid(True)
axs[0].set_xticks(test_results['episodes'])

# 团队
axs[1].stackplot(team['episodes'],
                                team['yi_rates'],
                                team['er_rates'],
                                team['san_rates'],
                                labels=['第1名率', '第2名率', '第3名率'],
                                colors=['#1f77b4', '#ff7f0e', '#2ca02c'])
axs[1].set_xlabel('训练Episode')
axs[1].set_title('团队第1、2、3名率')
axs[1].legend(loc='upper left')
axs[1].grid(True)
axs[1].set_xticks(team['episodes'])

plt.tight_layout()
plt.show()